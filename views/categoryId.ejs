<head>
    <title>
        <%= title %>
    </title>
</head>

<body>
    <%- include("partials/header") %>
        <h1>Category by ID</h1>

        <h3>
            <%= category.name %>
        </h3>
        <p>
            <%= category.description %>
        </p>
        <button onclick="location.href = '/categories/<%= category.id %>/edit'">Edit</button>
        <form action="/categories/<%= category.id %>/delete" method="POST" onsubmit="return confirmDelete(this);"
            style="display:inline;">
            <input type="hidden" name="adminPassword" value="">
            <button type="submit">Delete</button>
        </form>
        <script>
            function confirmDelete(form) {
                const pwd = window.prompt("Enter admin password to confirm deletion:");
                if (!pwd) {
                    return false;
                }
                form.adminPassword.value = pwd;
                return true;
            }
        </script>


        <div>
            <h2>
                <%= category.name %>'s
            </h2>
            <% animals.forEach((animal)=> { %>
                <div>
                    <h4>
                        <%= animal.name %>
                    </h4>
                    <p>Description: <%= animal.description %>
                    </p>
                    <p>Age: <%= animal.age %> | Price: <%= animal.price %> | Status: <%=animal.status %>
                    </p>
                    <button onclick="location.href = '/animals/<%= animal.id %>'">View</button>
                </div>
                <% }) %>
        </div>
</body>